services:
  n1:
    build: .
    environment:
      NODE_ID: n1
      PORT: "8000"
      PEERS: "n2:8000,n3:8000"
    ports:
      - "8001:8000"
    volumes:
      - ./data/n1:/data
    restart: unless-stopped

  n2:
    build: .
    environment:
      NODE_ID: n2
      PORT: "8000"
      PEERS: "n1:8000,n3:8000"
    ports:
      - "8002:8000"
    volumes:
      - ./data/n2:/data
    restart: unless-stopped

  n3:
    build: .
    environment:
      NODE_ID: n3
      PORT: "8000"
      PEERS: "n1:8000,n2:8000"
    ports:
      - "8003:8000"
    volumes:
      - ./data/n3:/data
    restart: unless-stopped
